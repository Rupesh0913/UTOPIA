<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utopia</title>
   
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

    <link
    href="https://fonts.googleapis.com/css2?family=Sen&display=swap"
    rel="stylesheet"
  />
    <link rel="icon" type="image/png" href="../images/utopia_logo.png" />
    <link rel="stylesheet" type="text/css" href="../css/beauty.css" />
</head>
<body>
    <div class="top-offers-banner">
        <div class="banner-box">
          <p><i>Ends Tonight!</i></p>
          <a href="#">Shop Now</a>
          <p>20% OFF SKINCARE & SELECT FRAGRANCE</p>
          <a href="#">Details</a>
        </div>
      </div>
  
      <div class="signup-section">
        <div class="container signup-container">
          <div class="signup-box">
            <div>
              <img src="../images/icons/SVG/globe1.svg" alt="language" />
              <h5>English($)</h5>
              <span class="material-symbols-outlined">
                expand_more
                </span>
            </div>
            <div>
              <img src="../images/icons/SVG/user.svg" alt="signIn/signUp.png" />
              <h5>Sign In/Sign Up</h5>
            </div> 
          </div>
        </div>
      </div>
  
      <div class="head-nav">
          <div class="container ">
              <div class="left">
                  <img src="../images/utopia_logo.png" alt="logo" height="70px" width="70px">
                  <h3>
                      UTOPIAN<span>living</span>
                  </h3>
              </div>
              <div class="right">
                  <div class="search">
                      <input type="text" id="search-box" placeholder="Search...">
                      <img src="../images/icons/SVG/search.svg" id="search-btn" alt="search">
                  </div>
                  
                  <a href="./cart.html"><img src="../images/icons/PNG/cart.png" alt="cart"></a>
              </div>
          </div>
      </div>
  
      <div class="main-nav">
        <div class="container">
          <div class="nav-link">
            

            <a href="../index.html">HOME</a>
            <a href="./clothes.html">CLOTHES</a>
            <a href="#">BEAUTY AND WELLNESS</a>
            <a href=""class="disable">GARDEN AND OUTDOORS</a>
            <a href=""class="disable">HOME & FURNITUE</a>
            <a href="" style="color:red"class="disable">GIFTS</a>
            <a href=""class="disable">SALE</a>
          </div>
        </div>
      </div>

    <div class="container">
        <div class="filter">
            <div class="f1 position">
                <h4 class="beauty">Top-Rated</h4>
                <img src="../images/beauty/beauty-filter-container.jpeg" alt="">
            </div>
            <div class="f2 position">
                <h4 class="beauty">Fragrance</h4>
                <img src="../images/beauty/beauty-filter-container2.jpg" alt="">
            </div>
          <div class="f3 position">
            <h4 class="beauty">Makeup</h4>
            <img src="../images/beauty/beauty-filter-container3.jpeg" alt="">
          </div>
          <div class="f4 position">
            <h4 class="beauty">Skincare</h4>
            <img src="../images/beauty/beauty-filter-container.jpeg" alt="">
          </div>
          <div class="f5 position">
            <h4 class="beauty">Bath & Body</h4>
            <img src="../images/beauty/beauty-filter-container-4.jpeg" alt="">
          </div>
          <div class="f6 position">
            <h4 class="beauty">Haircare</h4>
            <img src="../images/beauty/beauty-filter-container3.jpeg" alt="">
          </div>
        </div>

        <div class="content">
            <div class="side-nav">
                <h2>Browse By:-</h2>
                <span></span>
                <button class="beauty">Top-Rated</button>
                <button class="beauty">Candles & Fragrance</button>
                <button class="beauty">Makeup</button>
                <button class="beauty">Fragrance</button>
                <button class="beauty">Skincare</button>
                <button class="beauty">Bath & Body</button>
                <button class="beauty">Haircare</button>
            </div>
    
    
            <div class="container-content">
                <div class="container-top">
                    <div class="left"><p>Beauty & Wellness</p></div>
                    <div class="right">
                        <label for="Sort">Sort:</label>
                        <select id="sort">
                            <option value=""></option>
                            <option value="Low to High">Low to High</option>
                            <option value="Higth to Low">Higth to Low</option>
                        </select>
                    </div>
                </div>
                <div class="content-container-body"></div>
                <hr>

                
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="container">
          <div class="footer-top">
            <div class="footer-content">
              <h3>Signup For Email</h3>
              <p>Receive early access to new arrivals, sales, exclusive content, events and much more!</p>
            </div>
            <div class="footer-input-box">
              <form>
                <label for="email">Email Address* </label>
              <input type="text" id="email-box">
              <button id="submit">Submit</button>
              </form>
            </div>
          </div>
         
          <p>By signing up, you will receive Utopia offers, promotions and other commercial messages. You are also agreeing to utopia’s Privacy Policy. You may unsubscribe at any time.</p>
          <p>2022 URBN.com. All Rights Reserved.</p>
        </div>
      </div>
    <script>
        
      let global=[];
      let filtered=false;
        async function getdata(){
            try{
                let res=await fetch("../beauty.json");
                let data=await res.json();
                 global=data
                displaydata(global) 
            }
            catch (e){
                console.log("something is wrong!!"+e)
            }
        }
        getdata();
        
        
        // sorting
        let sort=document.querySelector("#sort");
        
        sort.addEventListener("change",()=>{
            // getdata();
           
            if(filtered)
            sorteddata(filteredVal)
            else
            sorteddata(global)
        })
        function sorteddata(data){
            let sortedVal=sort.value;
            if(sortedVal=="")
            displaydata(data)
            else if(sortedVal=="Low to High")
            {
              console.log(data);
                const Assending=data.sort((a,b)=>parseFloat(a.price)-parseFloat(b.price))
                displaydata(Assending)
            }
            else if(sortedVal=="Higth to Low")
            {
                const Descending=data.sort((a,b)=>parseFloat(b.price)-parseFloat(a.price))
                displaydata(Descending)
            }

        } 
        // sorting
       
        //filter
        let beauty=document.getElementsByClassName("beauty");
        for(let i=0;i<beauty.length;i++){
          beauty[i].addEventListener("click",()=>{
            current = beauty[i].innerText
            filteredData(global)
        })
        }

        function filteredData(data) {
             filteredVal=data.filter((ele)=>{
              if(ele.category==current)
              return true;
              else
              return false
            })
            sorteddata(filteredVal)
            filtered=true;
        }
        //filter

        // searching
        let searchBtn=document.getElementById("search-btn");
        searchBtn.addEventListener("click",()=>{
          let search=document.getElementById("search-box").value;
          
          filteredVal=global.filter((ele)=>{
              if(ele.name.includes(search)==true)
              return true;
              else
              return false
            })
            sorteddata(filteredVal)
            filtered=true;
        })

        // searching
        
        let Arr=JSON.parse(localStorage.getItem("cart"))||[];
        
        function displaydata(data){
            let content=document.querySelector(".content-container-body")
            content.innerHTML ="";
            data.forEach(function(ele,i){
                let card=document.createElement("div");
                card.className="card"

                let img=document.createElement("img");
                img.src=ele.image;

                let name=document.createElement("p")
                name.textContent=ele.name;

                let add=document.createElement("div")
                add.textContent="add";
                add.className="material-symbols-outlined";

                let price=document.createElement("p")
                price.innerText=ele.price+" ₹";

                add.addEventListener("click",()=>{
                  if(isPresent(ele)){
                    alert("Product Alredy In cart")
                  }
                  else{
                    console.log(ele)
                    Arr.push({...ele,quantity:1});
                    localStorage.setItem("cart",JSON.stringify(Arr))
                  }
                })

                card.append(img,add,name,price);
                content.append(card);
            })
            function isPresent(data){
              for(var i=0;i<Arr.length;i++){
                if(Arr[i].id===data.id)
                  return true;
              }
              return false;
            }
        }
    </script>
</body>
</html>